<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Magical Gift Room</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Parisienne&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --deep-red: #8b0000;
            --bright-red: #ff4d4d;
            --parchment: #fdf5e6;
        }

        body, html {
            margin: 0; padding: 0; min-height: 100vh;
            background: #121212; color: white;
            font-family: 'Quicksand', sans-serif; overflow-x: hidden;
            user-select: none;
        }

        .screen {
            display: none; min-height: 100vh; width: 100%;
            flex-direction: column; justify-content: center; align-items: center;
            text-align: center; animation: fadeIn 0.6s ease;
        }
        .active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Buttons */
        .btn-choice {
            padding: 15px 40px; margin: 15px; border-radius: 50px;
            border: none; cursor: pointer; font-size: 1.2rem; font-weight: bold;
            transition: 0.3s;
        }
        .yes { background: #2ecc71; color: white; }
        .no { background: #e74c3c; color: white; }

        .cat-gun { width: 280px; border-radius: 20px; border: 4px solid white; margin-bottom: 20px; }

        .door-container { cursor: pointer; transition: 0.4s; }
        .door-container:hover { transform: scale(1.1); filter: drop-shadow(0 0 20px var(--gold)); }
        .door-img { width: 180px; }

        /* Gift Room */
        .gift-container { display: flex; gap: 40px; flex-wrap: wrap; justify-content: center; margin-top: 30px; }
        .gift-box { cursor: pointer; transition: 0.3s; width: 180px; position: relative; }
        .gift-box:hover { transform: translateY(-15px); }
        .gift-box img { width: 100%; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5)); }
        .opened-mark { position: absolute; top: 0; right: 0; background: #2ecc71; color: white; border-radius: 50%; padding: 5px; font-size: 12px; display: none; }

        /* Next Page Button (Game Zone) */
        #gameZoneBtn {
            display: none;
            margin-top: 50px;
            padding: 15px 45px;
            background: linear-gradient(45deg, #ff4d4d, #f9ca24);
            color: black;
            font-weight: bold;
            font-size: 1.3rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.6);
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

    /* Add this to your <style> section to make the transition smooth */
    #sliderImg {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: opacity 0.3s ease-in-out;
    }
    
    .nav-controls {
        display: flex;
        gap: 20px;
        margin: 15px 0;
    }
   
    /* Premium Letter Styling */
    .vintage-container {
        perspective: 1000px;
        padding: 20px;
    }

    .letter-paper-premium {
        background: #f4e4bc;
        background-image: url('./ancient\ letter.jpg'); /* Subtle texture */
        color: #2c1e14;
        width: 85%;
        max-width: 600px;
        padding: 60px 40px;
        position: relative;
        font-family: 'Dancing Script', cursive;
        font-size: 1.3rem;
        line-height: 1.6;
        text-align: left;
        
        /* The Burnt/Glowing Edge Effect */
        border: 1px solid #3d2616;
        box-shadow: 
            inset 0 0 50px rgba(139, 69, 19, 0.3), /* Inner shadow */
            0 0 20px rgba(255, 140, 0, 0.2),       /* Outer glow */
            5px 5px 15px rgba(0,0,0,0.7);          /* Depth shadow */
        
        /* Ragged/Burnt Edge look using Clip-Path */
        clip-path: polygon(
            0% 2%, 5% 0%, 95% 2%, 100% 0%, 
            98% 30%, 100% 70%, 98% 95%, 100% 100%, 
            70% 98%, 30% 100%, 0% 98%, 2% 70%, 0% 30%
        );
        animation: paperHover 4s ease-in-out infinite;
    }

    @keyframes paperHover {
        0%, 100% { transform: rotateX(2deg) rotateY(-1deg); }
        50% { transform: rotateX(-1deg) rotateY(1deg); }
    }

    .letter-content p {
        margin-bottom: 15px;
        text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
    }

    .signature {
        text-align: center;
        margin-top: 30px;
        font-size: 1.6rem;
        color: #8b0000;
        border-top: 1px solid rgba(139, 69, 19, 0.2);
        padding-top: 20px;
    }

    /* Decorative Corners */
    .corner {
        position: absolute;
        width: 40px;
        height: 40px;
        border: 2px solid #8b4513;
        opacity: 0.6;
    }
    .top-left { top: 20px; left: 20px; border-right: none; border-bottom: none; }
    .top-right { top: 20px; right: 20px; border-left: none; border-bottom: none; }
    .bottom-left { bottom: 20px; left: 20px; border-right: none; border-top: none; }
    .bottom-right { bottom: 20px; right: 20px; border-left: none; border-top: none; }

    .quill-premium {
        position: absolute;
        bottom: -30px;
        right: -10px;
        width: 140px;
        filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.5));
        transform: rotate(-15deg);
        transition: 0.5s;
    }
    
    .quill-premium:hover {
        transform: rotate(-5deg) translateY(-10px);
    }

        /* Gifts Content Styling */
        .letter-paper {
            background: var(--parchment); color: #3d2b1f;
            width: 85%; max-width: 650px; padding: 50px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5); border: 2px solid #d2b48c;
            font-family: 'Dancing Script', cursive; font-size: 1.4rem;
            line-height: 1.7; text-align: left; position: relative;
        }
        .quill { position: absolute; bottom: -40px; right: -20px; width: 130px; transform: rotate(-10deg); }

        .slider-bg { background: radial-gradient(circle, #4a0000, #1a0000); }
        .slider-container { width: 300px; height: 400px; border: 8px solid white; border-radius: 15px; overflow: hidden; }
        .slider-container img { width: 100%; height: 100%; object-fit: cover; }
        .nav-btn { background: white; border: none; padding: 10px 15px; border-radius: 50%; cursor: pointer; font-size: 20px; margin: 20px; }

        .spotify-bg { background: #000; background-image: radial-gradient(#1db95422 1px, transparent 1px); background-size: 20px 20px; }
        .qr-placeholder { width: 250px; height: 250px; background: white; padding: 10px; border-radius: 10px; margin-bottom: 20px; }
        .music-text { font-size: 1.2rem; max-width: 500px; color: #1db954; font-weight: bold; }

        .back-home { margin-top: 30px; padding: 10px 20px; background: rgba(255,255,255,0.2); border: 1px solid white; color: white; cursor: pointer; border-radius: 5px; }

        .float { position: fixed; pointer-events: none; z-index: 999; animation: floatUp 5s linear infinite; font-size: 2rem; }
        @keyframes floatUp { 0% { transform: translateY(110vh); opacity: 1; } 100% { transform: translateY(-20vh); opacity: 0; } }
    </style>
</head>
<body>

    <div id="qScreen" class="screen active">
        <h1 id="greet"></h1>
        <img src="./the cat look.jpg" class="cat-gun">
        <p>I gave a gifts for you... Are you ready to receive?</p>
        <div>
            <button class="btn-choice yes" onclick="showDoor()">YES! üòç</button>
            <button class="btn-choice no" onclick="showNo()">NO üòí</button>
        </div>
    </div>

    <div id="noScreen" class="screen">
        <img src="./cat with gun png.png" class="cat-gun">
        <h2>Wrong Answer! üòè</h2>
        <p>There is no option to say NO here. Try again!</p>
        <button class="btn-choice yes" onclick="showScreen('qScreen')">Go back and pick Yes!</button>
    </div>

    <div id="doorScreen" class="screen">
        <h1 style="color: var(--gold); font-family: 'Parisienne', cursive; font-size: 3.5rem;">Welcome to the Gift Room</h1>
        <div class="door-container" onclick="showGiftRoom()">
            <img src="./magical door.png" class="door-img">
            <p>ENTER</p>
        </div>
    </div>

    <div id="giftRoom" class="screen">
    <h1 style="margin-bottom: 20px;">Pick Your Surprise</h1>
    <div class="gift-container">
        <div class="gift-box" onclick="openGift(1)">
            <span id="mark1" class="opened-mark">‚úî Opened</span>
            <img src="./gift box.png"><p>Gift 1</p>
        </div>
        <div class="gift-box" onclick="openGift(2)">
            <span id="mark2" class="opened-mark">‚úî Opened</span>
            <img src="./gift box.png"><p>Gift 2</p>
        </div>
        <div class="gift-box" onclick="openGift(3)">
            <span id="mark3" class="opened-mark">‚úî Opened</span>
            <img src="./gift box.png"><p>Gift 3</p>
        </div>
    </div>

    <button id="gameZoneBtn" onclick="goToGameZone()">ENTER GAME ZONE üéÆ ‚û°</button>
</div>
    <div id="gift1" class="screen" style="background: #0a0a0a;">
    <div class="vintage-container">
        <div class="letter-paper-premium">
            <div class="corner top-left"></div>
            <div class="corner top-right"></div>
            <div class="corner bottom-left"></div>
            <div class="corner bottom-right"></div>

            <div class="letter-content">
                <p>Intha varusham muzhuka namma kulla iruntha nalla memories-ku periya "Thanks".</p>
                <p>Puthu varusham porakkapothu, un kooda innum neriya happiness ah share pannikkanumnu -aasai padrean.</p>
                <p>Intha 2025-la namma panna atrocities uh, chinna chinna fights uh, namma pesina vishayam ellamae romba special.</p>
                <p>Intha New Year unakku neriya success-aiyum, unlimited sirippaiyum tharanum.</p>
                <p>Enna nadanthalum, unakku support-a naan eppovum irupaen-unkoodavey .</p>
                <p>Unnoda dream ellamae intha varusham nijamaga en vazhthukal.</p>
                <p>Namma kulla irukura intha azhagana bond innum strong-a aganum nenaikurean .</p>
                <p>Un kooda spend panra ovvoru nimishamum enakku romba mukkiyam.</p>
                <p>and oru advise sollanumna  ethaiyum nenachu polampatha un style la left hand la deal pannu athan azhalga irukkum, mukkiyama health ah paathukka.</p>
                
                <h3 class="signature">Happy New Year to my favorite human!</h3>
            </div>
            
            <img src="./peacock-feather-pen-ink-.png" class="quill-premium">
        </div>
    </div>
    <button class="back-home" onclick="showGiftRoom()">‚¨Ö Back to Gift Room</button>
</div>

 <div id="gift2" class="screen slider-bg">
    <h2 style="color: white; margin-bottom: 10px;">Our Memories ‚ú®</h2>
    
    <div class="slider-container">
        <img id="sliderImg" src="./img-1.jpg" alt="Memory">
    </div>

    <div class="nav-controls">
        <button class="nav-btn" onclick="prevImg()">‚¨Ö Previous</button>
        <button class="nav-btn" onclick="nextImg()">Next ‚û°</button>
    </div>

    <p id="imgCounter" style="color: white; font-weight: bold;">1 / 11</p>

    <button class="back-home" onclick="showGiftRoom()">‚¨Ö Back to Gift Room</button>
</div>

    <div id="gift3" class="screen spotify-bg">
        <div class="qr-placeholder"><img src="./Picsart_25-12-30_23-20-37-936.jpg" style="width:100%" id="spotifyImg"></div>
        <p class="music-text">Unakku songs keakka pudikkumnu enakku theriyum so  theadi oru playlist create pannirukean keattu vibe pannu sariya ellah songs uhm pudikkumnu nampurean! üéµüéß</p>
        <button class="back-home" onclick="showGiftRoom()">‚¨Ö Back to Gift Room</button>
    </div>
<button id="gameZoneBtn" onclick="goToGameZone()">ENTER GAME ZONE üéÆ ‚û°</button>
    <script>
     
    const name = localStorage.getItem('favPersonName') || "Friend";
    document.getElementById('greet').innerText = `${name},`;

    let openedGifts = { 1: false, 2: false, 3: false };

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        stopFloat();
    }

    function showNo() { showScreen('noScreen'); }
    function showDoor() { showScreen('doorScreen'); }
    function showGiftRoom() { 
        showScreen('giftRoom'); 
        checkAllOpened(); // Check if we should show the button
    }

    function openGift(id) {
        openedGifts[id] = true;
        document.getElementById('mark' + id).style.display = 'block';
        showScreen('gift' + id);
        
        // Start appropriate animations
        if(id === 1) startFloat(['ü§ç', 'üòº', 'ü•ä', 'üéµ', 'üçï', 'ü•ò', 'üç´', 'üëª']);
        if(id === 2) startFloat(['üòπ', 'üòª', 'üòº', 'üò∏', 'üê±']);
        if(id === 3) startFloat(['üéµ', 'üéß', 'üé∂', '‚ù§Ô∏è', 'üé∏']);
    }

    function checkAllOpened() {
        // Only show if 1, 2, AND 3 are all true
        if(openedGifts[1] && openedGifts[2] && openedGifts[3]) {
            document.getElementById('gameZoneBtn').style.display = 'block';
        }
    }

    function goToGameZone() {
        // Make sure you have a file named gamezone.html
        window.location.href = "gamezone.html"; 
    }

    // --- SLIDER LOGIC ---
    let currentIdx = 0;
    const images = ["./img-1.jpg","./img-2.jpg","./img-3.jpg","./img-4.jpg","./img-5.jpg","./img-6.jpg","./img-7.jpg","./img-8.jpg","./img-9.jpg","./Bouquet-removebg-preview.png","./img-11.jpg"];

    function updateSlider() {
        const imgElement = document.getElementById('sliderImg');
        const counterElement = document.getElementById('imgCounter');
        imgElement.src = images[currentIdx];
        counterElement.innerText = `${currentIdx + 1} / ${images.length}`;
        imgElement.style.opacity = 0;
        setTimeout(() => { imgElement.style.opacity = 1; }, 50);
    }

    function nextImg() { currentIdx = (currentIdx + 1) % images.length; updateSlider(); }
    function prevImg() { currentIdx = (currentIdx - 1 + images.length) % images.length; updateSlider(); }

    // --- ANIMATION LOGIC (Missing in your previous copy) ---
    let floatInterval;
    function startFloat(items) {
        floatInterval = setInterval(() => {
            const el = document.createElement('div');
            el.className = 'float';
            el.innerText = items[Math.floor(Math.random() * items.length)];
            el.style.left = Math.random() * 100 + 'vw';
            el.style.fontSize = (Math.random() * 20 + 20) + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 5000);
        }, 300);
    }

    function stopFloat() { 
        clearInterval(floatInterval); 
        document.querySelectorAll('.float').forEach(e => e.remove()); 
    }
    </script>
</body>
</html>